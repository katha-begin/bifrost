{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["name", "series", "episode", "sequence", "shot_number"],
  "properties": {
    "name": {
      "type": "string",
      "minLength": 1,
      "description": "Shot name"
    },
    "series": {
      "type": "string",
      "pattern": "^s\\d+$",
      "description": "Series identifier (e.g., s01)"
    },
    "episode": {
      "type": "string",
      "pattern": "^ep\\d+$",
      "description": "Episode identifier (e.g., ep01)"
    },
    "sequence": {
      "type": "string",
      "pattern": "^seq\\d+$",
      "description": "Sequence identifier (e.g., seq001)"
    },
    "shot_number": {
      "type": "string",
      "pattern": "^\\d+$",
      "description": "Shot number (e.g., 010)"
    },
    "description": {
      "type": "string",
      "description": "Shot description"
    },
    "status": {
      "type": "string",
      "enum": ["not_started", "ready", "in_progress", "layout", "animation", "lighting", "rendering", "compositing", "approved", "final"],
      "default": "not_started",
      "description": "Overall shot status"
    },
    "frame_range": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "minItems": 2,
      "maxItems": 2,
      "description": "Frame range as [start_frame, end_frame]"
    },
    "frame_rate": {
      "type": "number",
      "default": 24,
      "description": "Frame rate of the shot"
    },
    "resolution": {
      "type": "object",
      "properties": {
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        }
      },
      "required": ["width", "height"],
      "description": "Resolution of the shot"
    },
    "handles": {
      "type": "object",
      "properties": {
        "head": {
          "type": "integer"
        },
        "tail": {
          "type": "integer"
        }
      },
      "required": ["head", "tail"],
      "description": "Frame handles for the shot"
    },
    "departments": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "enum": ["previs", "layout", "anim", "fx", "lighting", "render", "comp", "master"]
          },
          "status": {
            "type": "string",
            "enum": ["not_started", "in_progress", "review", "published", "approved"]
          },
          "assigned_to": {
            "type": ["string", "null"]
          },
          "due_date": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "description": "Departments involved in the shot"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Tags for the shot"
    }
  }
}